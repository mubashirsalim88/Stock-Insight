{% extends 'base.html' %}

{% block content %}
<div class="container mx-auto mt-8">
    <h1 class="text-3xl font-bold text-center text-blue-800 mb-4">Real-Time Charts</h1>
    <div id="chart-data" class="bg-white p-6 rounded-lg shadow-md">
        <!-- The chart will be rendered here -->
    </div>
</div>

<script>
    $(document).ready(function() {
        // Fetch historical data from the server
        $.get('/fetch-historical-data/', function(data) {
            // Handle successful response
            if (data.error) {
                $('#chart-data').html('<p>Error: ' + data.error + '</p>');
            } else {
                // Example: Render data in a chart using Chart.js or any other library
                $('#chart-data').html('<pre>' + JSON.stringify(data, null, 2) + '</pre>');
                
                // If using Chart.js or similar, call your chart rendering function here
                // renderChart(data);
            }
        }).fail(function(jqXHR, textStatus, errorThrown) {
            // Handle errors
            $('#chart-data').html('<p>Failed to fetch data: ' + textStatus + '</p>');
        });
    });

</script>
{% endblock content %}
